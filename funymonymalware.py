from tkinter import *
import random
import time
import copy

root = Tk()
root.overrideredirect(1)
root.attributes("-topmost", True)
root.minsize(root.winfo_screenwidth(),root.winfo_screenheight())
root.configure(bg='white')
root.wm_attributes("-transparentcolor", "blue")
canvas = Canvas(root, width=root.winfo_screenwidth(), height=root.winfo_screenheight(), bg='blue')      
canvas.pack()      
img = PhotoImage(file="hypercamWatermark.gif")
imgw = img.width()
imgh = img.height()      
monkeys = []
for i in range(100):
	# directions:
	# up left: 0
	# up right: 1
	# down left: 2
	# down right: 3
	xpos = random.randrange(0, root.winfo_screenwidth() - imgw)
	ypos = random.randrange(0, root.winfo_screenheight() - imgh)
	monkeys.append([canvas.create_image(xpos, ypos, anchor=NW, image=img), xpos, ypos, random.randrange(0, 4)])
	
w = root.winfo_screenwidth()
h = root.winfo_screenheight()

while True:
	for n, (monkey, oldx, oldy, direction) in enumerate(copy.deepcopy(monkeys)):
		dirx = direction % 2
		diry = 0 if direction <= 1 else 1
		
		if (oldx <= 0 or oldx >= (w - imgw)) and (oldy <= 0 or oldy >= (h - imgh)):
			dirx = 1 if dirx == 0 else 0
			diry = 1 if diry == 0 else 0
			
			monkeys.append([canvas.create_image(xpos, ypos, anchor=NW, image=img), random.randrange(0, root.winfo_screenwidth() - imgw), random.randrange(0, root.winfo_screenheight() - imgh), random.randrange(0, 4)])
			print("pog", len(monkeys))
		else:
			if oldx <= 0 or oldx >= (w - imgw):
				dirx = 1 if dirx == 0 else 0	
			if oldy <= 0 or oldy >= (h - imgh):
				diry = 1 if diry == 0 else 0
			
		if dirx == 0 and diry == 0:
			newdir = 0
		elif dirx == 1 and diry == 0:
			newdir = 1
		elif dirx == 0 and diry == 1:
			newdir = 2
		elif dirx == 1 and diry == 1:
			newdir = 3
			
		monkeys[n][3] = newdir
			
		if newdir == 0:
			newx = oldx - 5
			newy = oldy + 5
		elif newdir == 1:
			newx = oldx + 5
			newy = oldy + 5
		elif newdir == 2:
			newx = oldx - 5
			newy = oldy - 5
		elif newdir == 3:
			newx = oldx + 5
			newy = oldy - 5
			
		monkeys[n][1] = newx
		monkeys[n][2] = newy
		
			
		canvas.coords(monkey, newx, newy)
	canvas.update()
	time.sleep(0.01)



